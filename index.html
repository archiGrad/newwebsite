<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="scripts/styles/main.css">
		<link rel="stylesheet" href="scripts/styles/filetree.css">
		<link rel="stylesheet" href="scripts/styles/threejs.css">
		<link rel="stylesheet" href="scripts/styles/content.css">

	</head>

	<body>
		<!-- File Tree (Left Panel) -->
		<div id="dir_tree">
			<div class="tree">
				<div class="tree-line">
					<span class="folder" onclick="toggle(this)">.</span>
				</div>
				
				<div class="content">
					<!-- corneel_collab -->
					<div class="tree-line">
						<span class="prefix">├── </span>
						<span class="folder" onclick="toggle(this)">corneel_collab</span>
					</div>
					<div class="content hidden">
						<div class="tree-line">
							<span class="prefix">│   </span><span class="prefix">└── </span>
							<span class="folder" onclick="toggle(this)">v1</span>
						</div>
						<div class="content hidden">
							<div class="tree-line">
								<span class="prefix">│   </span><span class="prefix">    </span><span class="prefix">└── </span>
								<span class="folder" onclick="toggle(this)">factory</span>
							</div>
							<div class="content hidden">
								<div class="tree-line">
									<span class="prefix">│   </span><span class="prefix">    </span><span class="prefix">    </span><span class="prefix">└── </span>
									<span class="file">factory_recoveredbackupbackupbackupbackupbackup.hiplc</span>
								</div>
							</div>
						</div>
					</div>

					<!-- Single File -->
					<div class="tree-line">
						<span class="prefix">├── </span>
						<span class="file">counter.hiplc</span>
					</div>

					<!-- david Kahl JSON -->
					<div class="tree-line">
						<span class="prefix">├── </span>
						<span class="folder" onclick="toggle(this)">david Kahl JSON</span>
					</div>
					<div class="content hidden">
						<!-- Backup Section -->
						<div class="tree-line">
							<span class="prefix">│   </span><span class="prefix">├── </span>
							<span class="folder" onclick="toggle(this)">backup</span>
						</div>
						<div class="content hidden">
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">extract and use JSON_bak10.hiplc</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">extract and use JSON_bak11.hiplc</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">extract and use JSON_bak12.hiplc</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">extract and use JSON_bak1.hiplc</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">extract and use JSON_bak2.hiplc</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">extract and use JSON_bak3.hiplc</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">extract and use JSON_bak4.hiplc</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">extract and use JSON_bak5.hiplc</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">extract and use JSON_bak6.hiplc</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">extract and use JSON_bak7.hiplc</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">extract and use JSON_bak8.hiplc</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">└── </span><span class="file">extract and use JSON_bak9.hiplc</span></div>
						</div>

						<!-- Main Files -->
						<div class="tree-line"><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">extract and use JSON.hiplc</span></div>
						<div class="tree-line"><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">index.html</span></div>
						<div class="tree-line"><span class="prefix">│   </span><span class="prefix">├── </span><span class="file">learning python in houdini examples.txt</span></div>

						<!-- Render Section -->
						<div class="tree-line">
							<span class="prefix">│   </span><span class="prefix">├── </span>
							<span class="folder" onclick="toggle(this)">RENDER</span>
						</div>
						<div class="content hidden">
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file image">ageGuesser_axelle_4.png</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file image">ageGuesser_hilde_0.png</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file image">ageGuesser_inne_2.png</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file image">ageGuesser_johan_1.png</span></div>
							<div class="tree-line"><span class="prefix">│   </span><span class="prefix">│   </span><span class="prefix">└── </span><span class="file image">ageGuesser_joris_3.png</span></div>
						</div>

						<div class="tree-line"><span class="prefix">│   </span><span class="prefix">└── </span><span class="file config">test.json</span></div>
					</div>

					<!-- pymeshlab -->
					<div class="tree-line">
						<span class="prefix">└── </span>
						<span class="folder" onclick="toggle(this)">pymeshlab</span>
					</div>
					<div class="content hidden">
						<div class="tree-line">
							<span class="prefix">    </span><span class="prefix">├── </span>
							<span class="folder" onclick="toggle(this)">backup</span>
						</div>
						<div class="content hidden">
							<div class="tree-line"><span class="prefix">    </span><span class="prefix">│   </span><span class="prefix">└── </span><span class="file">meshlab_animation_bak1.hiplc</span></div>
						</div>

						<div class="tree-line">
							<span class="prefix">    </span><span class="prefix">├── </span>
							<span class="folder" onclick="toggle(this)">data</span>
						</div>
						<div class="content hidden">
							<div class="tree-line"><span class="prefix">    </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file script">import subprocess.py</span></div>
							<div class="tree-line"><span class="prefix">    </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file script">make_animation.py</span></div>
							<div class="tree-line"><span class="prefix">    </span><span class="prefix">│   </span><span class="prefix">├── </span><span class="file script">myconfig.py</span></div>
							<div class="tree-line"><span class="prefix">    </span><span class="prefix">│   </span><span class="prefix">└── </span><span class="file script">run.bat</span></div>
						</div>

						<div class="tree-line"><span class="prefix">    </span><span class="prefix">└── </span><span class="file">meshlab_animation.hiplc</span></div>
					</div>
				</div>
				<div class="summary">9 directories, 29 files</div>
			</div>
		</div>

		<!-- Three.js Scene (Middle Panel) -->
		<div id="threejs_scene">
			
 <div class="camera-controls">
        <button class="camera-button" onclick="setCameraView('front')">Front</button>
        <button class="camera-button" onclick="setCameraView('top')">Top</button>
        <button class="camera-button" onclick="setCameraView('isometric')">Isometric</button>
    </div>

		<div id="corner_text">
		    <div>compiling archive</div>
		    <div id="loading_counter">0/0</div>
		    <div id="loading_dots" style="display: flex; flex-direction: column; gap: 2px; margin: 5px 0;">
			<div>....</div>
			<div>....</div>
			<div>....</div>
		    </div>
		    <div id="loading_percentage">0%</div>
		</div>

			<!-- Three.js Script -->




<script type="module">
	import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.module.js';
	import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.121.1/examples/jsm/controls/OrbitControls.js';

	const container = document.getElementById('threejs_scene');
	
	// Performance optimization: Create scene with fog disabled
	const scene = new THREE.Scene();
	scene.background = new THREE.Color(0x000000);

	// Orthographic Camera setup - no need to change
	const frustumSize = 6;
	const aspect = container.clientWidth / container.clientHeight;
	const camera = new THREE.OrthographicCamera(
		frustumSize * aspect / -2,
		frustumSize * aspect / 2,
		frustumSize / 2,
		frustumSize / -2,
		1,
		1000
	);

	camera.position.set(8, 8, 8);
	camera.lookAt(0, 0, 0);



 // Camera view functions
    window.setCameraView = function(view) {
        switch(view) {
            case 'front':
                camera.position.set(0, 0, 8);
                break;
            case 'top':
                camera.position.set(0, 8, 0);
                break;
            case 'isometric':
                camera.position.set(8, 8, 8);
                break;
        }
        camera.lookAt(0, 0, 0);
        controls.update();
    };

	// Performance optimization: Renderer settings
	const renderer = new THREE.WebGLRenderer({ 
		antialias: true,
		powerPreference: 'high-performance',
		precision: 'mediump' // Good balance between quality and performance
	});
	renderer.setSize(container.clientWidth, container.clientHeight);
	// Performance optimization: Disable shadow map
	renderer.shadowMap.enabled = false;
	container.appendChild(renderer.domElement);

	// Optimized controls
	const controls = new OrbitControls(camera, renderer.domElement);
	controls.enableDamping = false; // Disabled as requested
	controls.screenSpacePanning = true;
	controls.minZoom = 0.5;
	controls.maxZoom = 4;

	// Performance optimization: Reusable geometries and materials
	const planeGeometry = new THREE.PlaneGeometry(2, 2);
	const spanContainer = document.createElement('div');
	spanContainer.id = 'span';
	spanContainer.style.position = 'absolute';
	spanContainer.style.top = '0';
	spanContainer.style.left = '0';
	spanContainer.style.width = '100%';
	spanContainer.style.height = '100%';
	spanContainer.style.pointerEvents = 'none';
	container.appendChild(spanContainer);

	// Performance optimization: Texture loading
	const textureLoader = new THREE.TextureLoader();
	const textures = [
 	'archigrad.io/example/demoproject/2.png',
    	'archigrad.io/example/demoproject/3.png',
    	'archigrad.io/example/demoproject/2.png'
	].map(url => {
		const texture = textureLoader.load(url);
		// Performance optimization: Optimize texture settings
		texture.generateMipmaps = false;
		texture.minFilter = THREE.NearestFilter;
		texture.magFilter = THREE.NearestFilter;
		return texture;
	});

	// Performance optimization: Create meshes efficiently
	function createStack(position, texture, label, numPlanes = 15) {
		const planes = [];
		const material = new THREE.MeshBasicMaterial({ 
			map: texture,
			transparent: true,
			opacity: 0.7,
			depthWrite: false // Performance optimization for transparent objects
		});

		for (let i = 0; i < numPlanes; i++) {
			const plane = new THREE.Mesh(planeGeometry, material);
			plane.position.set(position.x, i * 0.1, position.z);
			plane.rotation.x = -Math.PI / 2;
			planes.push(plane);
			scene.add(plane);

			if (i === numPlanes - 1) {
				const tagSpan = document.createElement('span');
				tagSpan.className = 'tag';
				tagSpan.style.position = 'absolute';
				tagSpan.style.fontSize = '0.75em';
				tagSpan.style.color = 'black';
				tagSpan.style.backgroundColor = 'white';
				tagSpan.style.pointerEvents = 'auto';
				tagSpan.textContent = label;
				spanContainer.appendChild(tagSpan);
				plane.userData.tag = tagSpan;
			}
		}
		return planes;
	}

	// Create stacks
	const stacks = [
		createStack({ x: 0, z: 0 }, textures[0], "Stack 1 - /src2/.../2.png"),
		createStack({ x: -2.5, z: 0 }, textures[1], "Stack 2 - /src2/.../3.png"),
		createStack({ x: 0, z: -2.5 }, textures[2], "Stack 3 - /src2/.../2.png")
	];

	// Performance optimization: Cached vector for calculations
	const worldPos = new THREE.Vector3();
	const screenPosition = new THREE.Vector3();

	// Performance optimization: Optimized label updates

function updateLabels() {
    scene.traverse((object) => {
        if (object.userData.tag) {
            object.getWorldPosition(worldPos);
            screenPosition.copy(worldPos).project(camera);

            const tag = object.userData.tag;
            const normalizedX = (screenPosition.x + 1) / 2; // 0 to 1
            
            // If label is in the right half of the container, align right
            if (normalizedX > 0.5) {
                tag.style.right = (100 - normalizedX * 100) + '%';
                tag.style.left = 'auto';
                tag.style.textAlign = 'right';
            } else {
                tag.style.left = (normalizedX * 100) + '%';
                tag.style.right = 'auto';
                tag.style.textAlign = 'left';
            }

            tag.style.top = ((-screenPosition.y + 1) / 2) * container.clientHeight + 'px';
            tag.style.display = (
                screenPosition.z < 1 && 
                screenPosition.x > -1 && 
                screenPosition.x < 1 && 
                screenPosition.y > -1 && 
                screenPosition.y < 1
            ) ? 'block' : 'none';
        }
    });
}

	// Performance optimization: Simplified animation loop
	function animate() {
		requestAnimationFrame(animate);
		controls.update();
		updateLabels();
		renderer.render(scene, camera);
	}

	// Performance optimization: Debounced resize handler
	const resizeObserver = new ResizeObserver(() => {
		const width = container.clientWidth;
		const height = container.clientHeight;
		const aspect = width / height;
		
		camera.left = frustumSize * aspect / -2;
		camera.right = frustumSize * aspect / 2;
		camera.top = frustumSize / 2;
		camera.bottom = frustumSize / -2;
		
		camera.updateProjectionMatrix();
		renderer.setSize(width, height);
		updateLabels();
	});

	resizeObserver.observe(container);
	animate();
</script>


		</div>

		<!-- Content Panel (Right Panel) -->
		<div id="html_content">
			<div id="content_wrapper">

<div class="container">
  <div class="dir"><u>collab>project1>exploring_nature</div></u>
<br>
  <div class="title">Exploring Nature</div>
  
    Environmental protection is crucial for preserving these natural wonders for future generations to enjoy and appreciate.
    Environmental protection is crucial for preserving these natural wonders for future generations to enjoy and appreciate.
  <div class="image-container">
    <div class="image-wrapper">
      <img src="archigrad.io/example/demoproject/1.png" alt="Mountain landscape" class="image"/>

      <div class="image-caption">Mountain Vista</div>
    </div>

    Environmental protection is crucial for preserving these natural wonders for future generations to enjoy and appreciate.
    Environmental protection is crucial for preserving these natural wonders for future generations to enjoy and appreciate.
    <div class="image-wrapper">
      <img src="archigrad.io/example/demoproject/2.png" alt="Mountain landscape" class="image"/>
      <div class="image-caption">Lake at Sunset</div>
    </div>

    <div class="image-wrapper">
      <img src="archigrad.io/example/demoproject/3.png" alt="Mountain landscape" class="image"/>
      <div class="image-caption">Canyon View</div>
    </div>

    <div class="image-wrapper">
      <img src="archigrad.io/example/demoproject/2.png" alt="Mountain landscape" class="image"/>
      <div class="image-caption">Coastal Sunset</div>
    </div>
  </div>

  <p class="text">
    Nature's beauty surrounds us in countless forms. From towering mountains to serene lakes, each vista tells its own story.
  </p>

  <div class="text">
    <div class="bold">Did You Know?</div>
    <p>The largest lake in the world by volume is Lake Baikal, containing about 20% of Earth's unfrozen fresh water.</p>
  </div>

<div class="code-block">
def analyze_image(image_path):
    # Load image
    img = Image.open(image_path)
    
    # Process image
    width, height = img.size
    aspect_ratio = width / height
    
    # Return analysis
    return {
        'dimensions': (width, height),
        'aspect_ratio': aspect_ratio,
        'format': img.format
    }

# Usage
result = analyze_image('example.jpg')
print(f"Image analysis: {result}")




import os
import json
import yaml
import time
import datetime
import subprocess
from pathlib import Path
import git

def get_last_build_id():
    """Get the last build ID from data.json if it exists, otherwise return 0."""
    try:
        if os.path.exists('data.json'):
            with open('data.json', 'r') as f:
                data = json.load(f)
                return data['header']['info']['build_id']
    except Exception as e:
        print(f"Error reading last build ID: {e}")
    return 0

def increment_build_id():
    """Get the last build ID and increment it by 1."""
    last_id = get_last_build_id()
    return last_id + 1

def get_git_branch():
    """Get current git branch name by searching parent directories for .git folder."""
    current_path = os.getcwd()
    while current_path != '/':
        try:
            repo = git.Repo(current_path, search_parent_directories=True)
            return repo.active_branch.name
        except:
            current_path = os.path.dirname(current_path)
    return "unknown"

def get_file_tree(start_path):
    """Generate file tree structure directly using subprocess."""
    try:
        result = []
        # Run tree command and capture output
        process = subprocess.run(
            ['tree', '--noreport', '-h', '-F', '-I', 'node_modules'],
            capture_output=True,
            text=True,
            cwd=start_path
        )
        
        if process.returncode == 0:
            # Process the output to match desired format
            lines = process.stdout.strip().split('\n')
            for line in lines:
                # Remove any color codes if present
                line = line.strip()
                if line:
                    result.append(line)
            return result
        else:
            return ["root/"]
            
    except Exception as e:
        print(f"Error generating file tree: {e}")
        return ["root/"]



def get_directory_stats(start_path, max_depth, allowed_extensions, ignore_patterns, log_dir):
    """Calculate directory statistics with detailed logging."""
    # Ensure logs directory exists
    ensure_directory_exists(log_dir)
    
    # Setup stats logging
    log_file = os.path.join(log_dir, 'stats_log.txt')
    with open(log_file, 'w') as log:
        def log_write(message):
            log.write(f"{message}\n")
            print(message)  # Also print to console

        total_files = 0
        total_folders = 0
        total_size = 0
        last_modified = None        
        log_write("\n=== INITIAL PARAMETERS ===")
        log_write(f"Start path: {start_path}")
        log_write(f"Max depth: {max_depth}")
        log_write(f"Allowed extensions: {allowed_extensions}")
        log_write(f"Ignore patterns: {ignore_patterns}")

        # Normalize allowed extensions
        allowed_extensions = [ext.lower().lstrip('.') for ext in allowed_extensions]
        log_write(f"Normalized allowed extensions: {allowed_extensions}")
        
        def should_ignore(name, patterns):
            """Check if a file or directory name should be ignored based on patterns."""
            for pattern in patterns:
                if pattern.startswith('*') and pattern.endswith('*'):
                    # Pattern like "*hidden*" - check if substring exists
                    if pattern[1:-1] in name:
                        return True
                elif pattern.startswith('*'):
                    # Pattern like "*hidden" - check suffix
                    if name.endswith(pattern[1:]):
                        return True
                elif pattern.endswith('*'):
                    # Pattern like ".*" or "_*" - check prefix
                    if name.startswith(pattern[:-1]):
                        return True
                else:
                    # Exact match
                    if name == pattern:
                        return True
            return False
        
        log_write("\n=== STARTING DIRECTORY SCAN ===")
        
        for root, dirs, files in os.walk(start_path):
            # Calculate depth
            rel_path = os.path.relpath(root, start_path)
            current_depth = len(Path(rel_path).parts) if rel_path != '.' else 0
            
            log_write(f"\n--- Processing Directory ---")
            log_write(f"Current directory: {root}")
            log_write(f"Depth: {current_depth}")
            log_write(f"Original dirs found: {dirs}")
            log_write(f"Original files found: {files}")

            # Check depth
            if current_depth > max_depth:
                log_write(f"Skipping - exceeded max depth {max_depth}")
                dirs.clear()
                continue

            # Process directories
            original_dirs = dirs.copy()
            dirs[:] = [d for d in dirs if not should_ignore(d, ignore_patterns)]
            filtered_dirs = set(original_dirs) - set(dirs)
            
            log_write("\n-- Directory Processing --")
            log_write(f"Filtered out directories: {filtered_dirs}")
            log_write(f"Remaining directories: {dirs}")
            
            total_folders += len(dirs)
            log_write(f"Added {len(dirs)} to folder count. New total: {total_folders}")

            # Process files
            log_write("\n-- File Processing --")
            for file in files:
                log_write(f"\nChecking file: {file}")
                
                # Check ignore patterns
                if should_ignore(file, ignore_patterns):
                    log_write(f"Skipping - matches ignore pattern: {file}")
                    continue

                # Check extension
                ext = os.path.splitext(file)[1].lower().lstrip('.')
                log_write(f"File extension: {ext}")
                log_write(f"Checking against allowed extensions: {allowed_extensions}")
                
                if ext in allowed_extensions:
                    file_path = os.path.join(root, file)
                    try:
                        file_stat = os.stat(file_path)
                        file_size = file_stat.st_size
                        total_files += 1
                        total_size += file_size
                        
                        if last_modified is None or file_stat.st_mtime > last_modified:
                            last_modified = file_stat.st_mtime
                        
                        log_write(f"COUNTED: {file}")
                        log_write(f"Size: {file_size} bytes")
                        log_write(f"Running totals - Files: {total_files}, Size: {total_size}")
                    except OSError as e:
                        log_write(f"Error processing file {file}: {e}")
                        continue
                else:
                    log_write(f"Skipping - extension not allowed: {file}")

        log_write("\n=== FINAL STATISTICS ===")
        log_write(f"Total files: {total_files}")
        log_write(f"Total folders: {total_folders}")
        log_write(f"Total size: {total_size}")
        log_write(f"Last modified: {time.strftime('%H_%M_%S', time.localtime(last_modified)) if last_modified else '00_00_00'}")

        return {
            "total_files": total_files,
            "total_folders": total_folders,
            "total_size": total_size,
            "last_modified": time.strftime('%H_%M_%S', time.localtime(last_modified)) if last_modified else "00_00_00"
        }



def get_formatted_datetime():
    """Get current date and time in separate formats."""
    now = datetime.datetime.now()
    return {
        "date": now.strftime("%Y_%m_%d"),
        "timestamp": now.strftime("%H_%M_%S")
    }

def read_config():
    """Read and parse config.yml file."""
    try:
        with open("config.yml", 'r') as file:
            config_data = yaml.safe_load(file)
            print("Successfully loaded config.yml")
            return config_data
    except Exception as e:
        print(f"Error reading config.yml: {e}")
        return None



def ensure_directory_exists(path):
    """Create directory if it doesn't exist."""
    if not os.path.exists(path):
        os.makedirs(path)
        print(f"Created directory: {path}")

def read_config(config_path):
    """Read and parse config file from specified path."""
    try:
        with open(config_path, 'r') as file:
            config_data = yaml.safe_load(file)
            print(f"Successfully loaded {config_path}")
            return config_data
    except Exception as e:
        print(f"Error reading {config_path}: {e}")
        return None

def write_file_structure(data, config):
    """Write the file structure data to JSON file specified in config."""
    filename = config["files"].get("filename", "data.json")
    # Use root path from config
    root_path = config["paths"]["root"]
    full_path = os.path.join(root_path, filename)
    
    try:
        with open(full_path, 'w', encoding='utf-8') as f:
            json.dump(data, f, indent='\t', ensure_ascii=False)
        print(f"Successfully generated {full_path}")
    except Exception as e:
        print(f"Error writing to {full_path}: {e}")





def main():
    # Get initial config path from command line or use default
    initial_config_path = "config.yml"
    
    # Read initial configuration to get actual paths
    initial_config = read_config(initial_config_path)
    if not initial_config:
        return

    # Get actual config path and other directories
    root_path = initial_config["paths"]["root"]
    config_path = os.path.join(root_path, initial_config["paths"]["config"])
    logs_path = os.path.join(root_path, initial_config["paths"]["logs"])
    
    # Ensure logs directory exists
    ensure_directory_exists(logs_path)
    
    # Read full configuration from actual config path
    config_data = read_config(config_path)
    if not config_data:
        return
    
    # Get new build ID and other data
    build_id = increment_build_id()
    version = config_data.get("info", {}).get("version", "0.0.1")
    datetime_info = get_formatted_datetime()
    
    # Build header structure
    header = {
        "info": {
            "version": version,
            "build_id": build_id,
            "date": datetime_info['date'],
            "timestamp": datetime_info['timestamp']
        },
        "git": {
            "git_branch": get_git_branch()
        },
        "stats": get_directory_stats(
            root_path,  # Use root path as start path
            config_data["files"]["max_depth"],
            config_data["files"]["allowed_extensions"],
            config_data["files"]["ignore_patterns"],
            logs_path  # Pass logs path to stats function
        ),
        "config": {
            "paths": config_data["paths"],
            "files": config_data["files"],
            "display": config_data["display"]
        },
        "media": config_data["media"],
        "dir_tree": config_data["dir_tree"],
        "html_content": config_data["html_content"],
        "threejs_scene": config_data["threejs_scene"],
        "tree": get_file_tree(root_path)  # Use root path for tree
    }

    # Create and write final structure
    final_data = {
        "header": header,
        "structure": {}
    }
    write_file_structure(final_data, config_data)

if __name__ == "__main__":
    main()
</div>


<iframe src="https://putteneersjoris.xyz" ></iframe>


  <p class="text">
    Environmental protection is crucial for preserving these natural wonders for future generations to enjoy and appreciate.
    Environmental protection is crucial for preserving these natural wonders for future generations to enjoy and appreciate.
    Environmental protection is crucial for preserving these natural wonders for future generations to enjoy and appreciate.
  </p>
			</div>
			<div id="bottom_corner_text">Bottom Corner Text</div>
		</div>

		<!-- Toggle Function -->
		<script>
			function toggle(element) {
				const content = element.closest('.tree-line').nextElementSibling;
				if (content && content.classList.contains('content')) {
					content.classList.toggle('hidden');
					element.classList.toggle('open');
				}
			}
		</script>
	</body>
</html>
